<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome - Cully Water Excellence</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/welcome-water.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Revolutionary 3D Quantum Elements -->
    <div class="quantum-elements">
        <div class="quantum-orb"></div>
        <div class="quantum-orb"></div>
        <div class="quantum-orb"></div>
        <div class="neural-crystal"></div>
        <div class="neural-crystal"></div>
        <div class="neural-crystal"></div>
    </div>
    
    <div class="container">
        <div class="welcome-hero">
            <div class="welcome-header">
                <img src="{{ url_for('static', filename='cully.png') }}" alt="Cully Water Excellence" class="cully-logo">
                <h1 class="hero-title">Welcome to Cully Water Excellence</h1>
                <p class="hero-subtitle">Your Partner in Water Excellence - Professional Documentation Platform for Engineering Excellence</p>
                <div class="intro-section">
                    <p class="intro-text">
                        Transform your technical documentation with our water-industry specialized platform. 
                        Streamline SAT reports, site surveys, commissioning documentation, and compliance reporting 
                        for water treatment, distribution, and automation systems.
                    </p>
                </div>
            </div>
        </div>

        <div class="water-card">
            <div class="card-header">
                <h2><i class="fas fa-rocket"></i> Get Started</h2>
            </div>
            <div class="card-content">
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            <div class="alert alert-{{ category }}" style="background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2);">{{ message }}</div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}

                <div class="get-started">
                    <p class="cta-description">
                        Join water industry professionals using Cully Water Excellence to create 
                        professional technical documentation faster and more accurately than ever before.
                    </p>
                    <div class="auth-buttons">
                        <a href="{{ url_for('auth.login') }}" class="btn-primary">
                            <i class="fas fa-water"></i>
                            <div class="btn-content">
                                <span class="btn-title">Access Portal</span>
                                <span class="btn-subtitle">Login to your dashboard</span>
                            </div>
                        </a>
                        <a href="{{ url_for('auth.register') }}" class="btn-secondary">
                            <i class="fas fa-user-plus"></i>
                            <div class="btn-content">
                                <span class="btn-title">Join Excellence</span>
                                <span class="btn-subtitle">Create your account</span>
                            </div>
                        </a>
                    </div>
                    <div class="registration-info" style="background: rgba(255,255,255,0.08); padding: 20px; border-radius: 12px; margin-top: 25px; border: 1px solid rgba(255,255,255,0.1);">
                        <p style="margin: 0; color: rgba(255,255,255,0.9);"><i class="fas fa-info-circle"></i> <strong>New users:</strong> Registration requires administrator approval.
                        You'll receive an email notification within 24 hours once your account is approved.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- WATER EXCELLENCE FEATURES SECTION -->
        <div class="water-card">
            <div class="card-header">
                <h2><i class="fas fa-water"></i> Water Industry Excellence</h2>
            </div>
            <div class="card-content">
                <div class="features-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin: 30px 0;">
                    <div class="feature-item" style="background: rgba(255,255,255,0.08); padding: 30px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s ease; backdrop-filter: blur(10px);">
                        <div class="feature-icon" style="font-size: 3rem; color: #00cccc; margin-bottom: 20px;"><i class="fas fa-droplet"></i></div>
                        <h3 style="color: white; margin-bottom: 15px; font-size: 1.4rem;">Water System Reports</h3>
                        <p style="color: rgba(255,255,255,0.9); line-height: 1.6; margin-bottom: 20px;">Specialized documentation for water treatment, distribution, and automation systems with industry-specific templates.</p>
                        <ul class="feature-benefits" style="list-style: none; padding: 0; color: rgba(255,255,255,0.8);">
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #00cccc;"></i>Water Treatment SAT Reports</li>
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #00cccc;"></i>Distribution System Documentation</li>
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #00cccc;"></i>SCADA Migration Reports</li>
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #00cccc;"></i>Compliance Documentation</li>
                        </ul>
                    </div>
                    <div class="feature-item" style="background: rgba(255,255,255,0.08); padding: 30px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s ease; backdrop-filter: blur(10px);">
                        <div class="feature-icon" style="font-size: 3rem; color: #0080ff; margin-bottom: 20px;"><i class="fas fa-users-cog"></i></div>
                        <h3 style="color: white; margin-bottom: 15px; font-size: 1.4rem;">Team Collaboration</h3>
                        <p style="color: rgba(255,255,255,0.9); line-height: 1.6; margin-bottom: 20px;">Advanced workflow management designed for water industry engineering teams and project coordination.</p>
                        <ul class="feature-benefits" style="list-style: none; padding: 0; color: rgba(255,255,255,0.8);">
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #0080ff;"></i>Multi-stage Approval Workflows</li>
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #0080ff;"></i>Real-time Collaboration</li>
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #0080ff;"></i>Digital Signatures</li>
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #0080ff;"></i>Progress Tracking</li>
                        </ul>
                    </div>
                    <div class="feature-item" style="background: rgba(255,255,255,0.08); padding: 30px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s ease; backdrop-filter: blur(10px);">
                        <div class="feature-icon" style="font-size: 3rem; color: #33dddd; margin-bottom: 20px;"><i class="fas fa-sitemap"></i></div>
                        <h3 style="color: white; margin-bottom: 15px; font-size: 1.4rem;">I/O Builder Tool</h3>
                        <p style="color: rgba(255,255,255,0.9); line-height: 1.6; margin-bottom: 20px;">Interactive tool for creating comprehensive automation system documentation with water industry focus.</p>
                        <ul class="feature-benefits" style="list-style: none; padding: 0; color: rgba(255,255,255,0.8);">
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #33dddd;"></i>Drag-and-drop Interface</li>
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #33dddd;"></i>Hardware Integration</li>
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #33dddd;"></i>Automated Documentation</li>
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #33dddd;"></i>Modbus Configuration</li>
                        </ul>
                    </div>
                    <div class="feature-item" style="background: rgba(255,255,255,0.08); padding: 30px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s ease; backdrop-filter: blur(10px);">
                        <div class="feature-icon" style="font-size: 3rem; color: #0066cc; margin-bottom: 20px;"><i class="fas fa-shield-water"></i></div>
                        <h3 style="color: white; margin-bottom: 15px; font-size: 1.4rem;">Enterprise Security</h3>
                        <p style="color: rgba(255,255,255,0.9); line-height: 1.6; margin-bottom: 20px;">Bank-level security tailored for water industry compliance and critical infrastructure protection.</p>
                        <ul class="feature-benefits" style="list-style: none; padding: 0; color: rgba(255,255,255,0.8);">
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #0066cc;"></i>Encrypted Data Storage</li>
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #0066cc;"></i>Multi-factor Authentication</li>
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #0066cc;"></i>Audit Trails</li>
                            <li style="margin: 8px 0; padding-left: 20px; position: relative;"><i class="fas fa-check" style="position: absolute; left: 0; color: #0066cc;"></i>Industry Compliance</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- SUPPORT & RESOURCES SECTION -->
        <div class="water-card">
            <div class="card-header">
                <h2><i class="fas fa-life-ring"></i> Support & Resources</h2>
            </div>
            <div class="card-content">
                <div class="support-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px; margin: 30px 0;">
                    <div class="support-item" style="background: rgba(255,255,255,0.08); padding: 25px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.1); text-align: center; transition: all 0.3s ease;">
                        <i class="fas fa-book" style="font-size: 2.5rem; color: #00cccc; margin-bottom: 15px; display: block;"></i>
                        <h3 style="color: white; margin-bottom: 15px;">Documentation Center</h3>
                        <p style="color: rgba(255,255,255,0.8); margin-bottom: 20px;">Complete guides for water industry professionals covering all platform features and workflows.</p>
                        <a href="#" onclick="showModal('docs')" class="support-link" style="color: #00cccc; text-decoration: none; font-weight: 600; border: 2px solid #00cccc; padding: 8px 16px; border-radius: 8px; display: inline-block; transition: all 0.3s ease;">View Documentation</a>
                    </div>
                    <div class="support-item" style="background: rgba(255,255,255,0.08); padding: 25px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.1); text-align: center; transition: all 0.3s ease;">
                        <i class="fas fa-video" style="font-size: 2.5rem; color: #0080ff; margin-bottom: 15px; display: block;"></i>
                        <h3 style="color: white; margin-bottom: 15px;">Video Training Library</h3>
                        <p style="color: rgba(255,255,255,0.8); margin-bottom: 20px;">Interactive tutorials for water system documentation and platform navigation.</p>
                        <a href="#" onclick="showModal('training')" class="support-link" style="color: #0080ff; text-decoration: none; font-weight: 600; border: 2px solid #0080ff; padding: 8px 16px; border-radius: 8px; display: inline-block; transition: all 0.3s ease;">Watch Tutorials</a>
                    </div>
                    <div class="support-item" style="background: rgba(255,255,255,0.08); padding: 25px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.1); text-align: center; transition: all 0.3s ease;">
                        <i class="fas fa-headset" style="font-size: 2.5rem; color: #33dddd; margin-bottom: 15px; display: block;"></i>
                        <h3 style="color: white; margin-bottom: 15px;">Technical Assistance</h3>
                        <p style="color: rgba(255,255,255,0.8); margin-bottom: 20px;">Direct support for water industry technical issues and platform troubleshooting.</p>
                        <a href="mailto:support@cullyautomation.com" class="support-link" style="color: #33dddd; text-decoration: none; font-weight: 600; border: 2px solid #33dddd; padding: 8px 16px; border-radius: 8px; display: inline-block; transition: all 0.3s ease;">Get Help</a>
                    </div>
                    <div class="support-item" style="background: rgba(255,255,255,0.08); padding: 25px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.1); text-align: center; transition: all 0.3s ease;">
                        <i class="fas fa-comments" style="font-size: 2.5rem; color: #0066cc; margin-bottom: 15px; display: block;"></i>
                        <h3 style="color: white; margin-bottom: 15px;">Water Industry Forum</h3>
                        <p style="color: rgba(255,255,255,0.8); margin-bottom: 20px;">Connect with water industry professionals and share best practices.</p>
                        <a href="#" onclick="showModal('community')" class="support-link" style="color: #0066cc; text-decoration: none; font-weight: 600; border: 2px solid #0066cc; padding: 8px 16px; border-radius: 8px; display: inline-block; transition: all 0.3s ease;">Join Forum</a>
                    </div>
                </div>
            </div>

    <!-- Modal for content -->
    <div id="contentModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="modalTitle">
        <div class="modal-content">
            <span class="close" onclick="closeModal()" aria-label="Close modal" tabindex="0" role="button">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <script>
        function showModal(type) {
            const modal = document.getElementById('contentModal');
            const content = document.getElementById('modalContent');

            let title = '';
            let body = '';

            switch(type) {
                case 'privacy':
                    title = 'Privacy Policy';
                    body = `
                        <h2>Privacy Policy</h2>
                        <p>Your privacy is important to us. This policy explains how we collect, use, and protect your information on the Report Generator platform.</p>
                        <h3>Information We Collect</h3>
                        <ul>
                            <li>Account information (name, email, role, department)</li>
                            <li>Report data and project information</li>
                            <li>Usage analytics for system improvement</li>
                            <li>Technical logs for support and debugging</li>
                        </ul>
                        <h3>How We Use Information</h3>
                        <ul>
                            <li>To provide and improve our documentation services</li>
                            <li>To facilitate team collaboration and approvals</li>
                            <li>To communicate important updates and notifications</li>
                            <li>To ensure system security and prevent misuse</li>
                        </ul>
                        <h3>Data Protection</h3>
                        <p>All data is encrypted in transit and at rest. We comply with GDPR, industry security standards, and enterprise data protection requirements.</p>
                    `;
                    break;
                case 'terms':
                    title = 'Terms of Service';
                    body = `
                        <h2>Terms of Service</h2>
                        <p>By using Report Generator, you agree to these terms and conditions.</p>
                        <h3>Acceptable Use</h3>
                        <ul>
                            <li>Use the service for legitimate business and technical documentation purposes</li>
                            <li>Do not share account credentials with unauthorized personnel</li>
                            <li>Respect intellectual property rights and confidential information</li>
                            <li>Follow your organization's data handling policies</li>
                        </ul>
                        <h3>Service Availability</h3>
                        <p>We strive for 99.9% uptime but cannot guarantee uninterrupted service due to maintenance, updates, or unforeseen circumstances.</p>
                        <h3>Support</h3>
                        <p>Technical support is available via email during business hours. Enterprise customers receive priority support.</p>
                    `;
                    break;
                case 'faq':
                    title = 'Frequently Asked Questions';
                    body = `
                        <h2>FAQ</h2>
                        <h3>What types of reports can I generate?</h3>
                        <p>Report Generator supports SAT reports, FAT reports, commissioning documentation, maintenance reports, QA documentation, compliance reports, and custom technical documentation.</p>
                        <h3>How long does account approval take?</h3>
                        <p>Typically within 24 hours during business days. You'll receive an email notification once approved.</p>
                        <h3>What file formats are supported?</h3>
                        <p>Reports can be exported as Word documents (.docx) and PDF files. Additional formats may be available based on report type.</p>
                        <h3>Can I collaborate with my team?</h3>
                        <p>Yes! The platform supports role-based collaboration with multi-stage approval workflows, digital signatures, and team notifications.</p>
                        <h3>Is my data secure?</h3>
                        <p>Absolutely. We use enterprise-grade encryption, secure data storage, and comprehensive audit trails to protect your technical documentation.</p>
                        <h3>Can I customize report templates?</h3>
                        <p>Yes, administrators can customize templates for different report types to match your organization's standards and requirements.</p>
                    `;
                    break;
                case 'status':
                    title = 'System Status';
                    body = `
                        <h2>System Status</h2>
                        <div class="status-item">
                            <span class="status-indicator online"></span>
                            <strong>Report Generation Services:</strong> Operational
                        </div>
                        <div class="status-item">
                            <span class="status-indicator online"></span>
                            <strong>Database:</strong> Operational
                        </div>
                        <div class="status-item">
                            <span class="status-indicator online"></span>
                            <strong>File Storage:</strong> Operational
                        </div>
                        <div class="status-item">
                            <span class="status-indicator online"></span>
                            <strong>Email Notifications:</strong> Operational
                        </div>
                        <div class="status-item">
                            <span class="status-indicator online"></span>
                            <strong>User Authentication:</strong> Operational
                        </div>
                        <p><small>Last updated: ${new Date().toLocaleString()}</small></p>
                        <p><small>For real-time status updates, contact technical support.</small></p>
                    `;
                    break;
                case 'changelog':
                    title = 'Version 1.2 - What\'s New';
                    body = `
                        <h2>What's New in Version 1.2</h2>
                        <h3>New Report Types</h3>
                        <ul>
                            <li>FAT (Factory Acceptance Test) report templates</li>
                            <li>Commissioning documentation workflows</li>
                            <li>Maintenance report generation</li>
                            <li>QA and compliance report templates</li>
                        </ul>
                        <h3>Enhanced Features</h3>
                        <ul>
                            <li>Improved I/O Builder with drag-and-drop interface</li>
                            <li>Multi-stage approval workflows</li>
                            <li>Enhanced digital signature capabilities</li>
                            <li>Better mobile responsiveness</li>
                            <li>Advanced role-based dashboards</li>
                        </ul>
                        <h3>Performance Improvements</h3>
                        <ul>
                            <li>Faster report generation (up to 50% improvement)</li>
                            <li>Enhanced security features</li>
                            <li>Better file handling and storage</li>
                            <li>Improved notification system</li>
                        </ul>
                        <h3>Bug Fixes</h3>
                        <ul>
                            <li>Fixed signature pad compatibility issues</li>
                            <li>Resolved file upload problems for large files</li>
                            <li>Improved form validation and error handling</li>
                            <li>Enhanced table responsiveness on mobile devices</li>
                        </ul>
                    `;
                    break;
                case 'accessibility':
                    title = 'Accessibility Statement';
                    body = `
                        <h2>Accessibility Statement</h2>
                        <p>Report Generator is committed to ensuring digital accessibility for all users, including those with disabilities.</p>
                        <h3>Current Accessibility Features</h3>
                        <ul>
                            <li>Screen reader compatible ARIA labels and semantic HTML</li>
                            <li>Full keyboard navigation with visible focus indicators</li>
                            <li>High contrast color schemes with sufficient color contrast ratios</li>
                            <li>Scalable text that works up to 200% zoom without horizontal scrolling</li>
                            <li>Alternative text for all informative images and icons</li>
                            <li>Skip navigation links for keyboard users</li>
                            <li>Form labels and error messages clearly associated with inputs</li>
                        </ul>
                        <h3>Standards Compliance</h3>
                        <p>We strive to conform to WCAG 2.1 Level AA standards and regularly audit our platform for compliance. Our development team follows accessibility best practices in all new features.</p>
                        <h3>Known Issues & Planned Improvements</h3>
                        <ul>
                            <li>PDF export accessibility improvements planned for Q1 2025</li>
                            <li>Enhanced mobile screen reader support in development</li>
                            <li>Additional keyboard shortcuts for power users</li>
                        </ul>
                        <h3>Accessibility Support</h3>
                        <p>If you encounter accessibility barriers or need assistance with any features, please contact our support team at <a href="mailto:accessibility@reportgenerator.com" style="color: var(--primary-color);">accessibility@reportgenerator.com</a>. We are committed to providing equal access to all users.</p>
                        <p><small>Last updated: January 2025</small></p>
                    `;
                    break;
                case 'security':
                    title = 'Security Features';
                    body = `
                        <h2>Security Features</h2>
                        <h3>Data Protection</h3>
                        <ul>
                            <li>End-to-end encryption for all data transmission</li>
                            <li>Encrypted data storage with AES-256</li>
                            <li>Regular security audits and penetration testing</li>
                            <li>Secure backup and disaster recovery procedures</li>
                        </ul>
                        <h3>Access Control</h3>
                        <ul>
                            <li>Multi-factor authentication (MFA) support</li>
                            <li>Role-based access control (RBAC)</li>
                            <li>Session management and timeout controls</li>
                            <li>IP-based access restrictions (enterprise)</li>
                        </ul>
                        <h3>Compliance</h3>
                        <ul>
                            <li>GDPR compliance for data protection</li>
                            <li>SOC 2 Type II certification</li>
                            <li>ISO 27001 security management</li>
                            <li>Industry-specific compliance (engineering standards)</li>
                        </ul>
                    `;
                    break;
                case 'report-types':
                    title = 'Supported Report Types';
                    body = `
                        <h2>Supported Report Types</h2>
                        <h3>Site Acceptance Testing (SAT)</h3>
                        <p>Comprehensive testing documentation for on-site system acceptance including I/O verification, functional testing, and system validation.</p>
                        <h3>Factory Acceptance Testing (FAT)</h3>
                        <p>Pre-delivery testing documentation for equipment and systems tested at the manufacturer's facility.</p>
                        <h3>Commissioning Reports</h3>
                        <p>System commissioning documentation including startup procedures, performance verification, and handover documentation.</p>
                        <h3>Maintenance Reports</h3>
                        <p>Scheduled and unscheduled maintenance documentation, equipment inspections, and preventive maintenance records.</p>
                        <h3>QA & Compliance Reports</h3>
                        <p>Quality assurance documentation, regulatory compliance reports, and audit trail documentation.</p>
                        <h3>Custom Technical Documentation</h3>
                        <p>Flexible templates for organization-specific technical documentation and reporting requirements.</p>
                    `;
                    break;
                case 'docs':
                    title = 'Documentation';
                    body = `
                        <h2>Documentation Center</h2>
                        <p>Comprehensive guides and documentation for all Report Generator features.</p>
                        <h3>Getting Started</h3>
                        <ul>
                            <li>Account setup and user roles</li>
                            <li>Creating your first report</li>
                            <li>Understanding approval workflows</li>
                        </ul>
                        <h3>Report Types</h3>
                        <ul>
                            <li>SAT Report creation guide</li>
                            <li>FAT Report templates</li>
                            <li>Commissioning documentation</li>
                            <li>Maintenance report workflows</li>
                        </ul>
                        <h3>Advanced Features</h3>
                        <ul>
                            <li>I/O Builder tool usage</li>
                            <li>Digital signatures setup</li>
                            <li>Team collaboration features</li>
                            <li>Custom template creation</li>
                        </ul>
                        <p><em>Full documentation is available after account approval.</em></p>
                    `;
                    break;
                case 'training':
                    title = 'Training Videos';
                    body = `
                        <h2>Training Videos</h2>
                        <p>Step-by-step video tutorials for all Report Generator features.</p>
                        <h3>Basic Training</h3>
                        <ul>
                            <li>Platform overview and navigation</li>
                            <li>Creating your first report</li>
                            <li>Using approval workflows</li>
                        </ul>
                        <h3>Advanced Training</h3>
                        <ul>
                            <li>I/O Builder advanced features</li>
                            <li>Custom template creation</li>
                            <li>Team management and permissions</li>
                        </ul>
                        <h3>Role-Specific Training</h3>
                        <ul>
                            <li>Engineer dashboard and tools</li>
                            <li>Project manager workflows</li>
                            <li>Administrator setup and management</li>
                        </ul>
                        <p><em>Training videos are available after account approval in your dashboard.</em></p>
                    `;
                    break;
                case 'roadmap':
                    title = 'Development Roadmap';
                    body = `
                        <h2>Development Roadmap</h2>
                        <h3>Q1 2025 - Planned Features</h3>
                        <ul>
                            <li>API integration for external systems</li>
                            <li>Advanced analytics and reporting</li>
                            <li>Mobile app for field inspections</li>
                            <li>Enhanced collaboration tools</li>
                        </ul>
                        <h3>Q2 2025 - Future Enhancements</h3>
                        <ul>
                            <li>AI-powered report suggestions</li>
                            <li>Advanced workflow automation</li>
                            <li>Integration with CAD systems</li>
                            <li>Multi-language support</li>
                        </ul>
                        <h3>Long-term Vision</h3>
                        <ul>
                            <li>Machine learning for predictive maintenance</li>
                            <li>Augmented reality integration</li>
                            <li>IoT device integration</li>
                            <li>Advanced compliance automation</li>
                        </ul>
                        <p><em>Roadmap items are subject to change based on user feedback and business requirements.</em></p>
                    `;
                    break;
                case 'community':
                    title = 'Community Forum';
                    body = `
                        <h2>Community Forum</h2>
                        <p>Connect with other Report Generator users to share knowledge, best practices, and get peer support.</p>
                        <h3>Forum Categories</h3>
                        <ul>
                            <li><strong>General Discussion</strong> - Platform questions and tips</li>
                            <li><strong>SAT Reports</strong> - Best practices for site acceptance testing</li>
                            <li><strong>I/O Builder</strong> - Input/output configuration help</li>
                            <li><strong>Workflow Management</strong> - Approval processes and team collaboration</li>
                            <li><strong>Feature Requests</strong> - Suggest new platform features</li>
                        </ul>
                        <h3>Community Guidelines</h3>
                        <ul>
                            <li>Be respectful and professional in all interactions</li>
                            <li>Search existing topics before posting new questions</li>
                            <li>Share knowledge and help other users when possible</li>
                            <li>Do not share confidential or proprietary information</li>
                        </ul>
                        <p><em>Community forum access is available after account approval.</em></p>
                    `;
                    break;
            }

            content.innerHTML = body;
            modal.style.display = 'block';
            modal.setAttribute('aria-hidden', 'false');

            // Focus the modal and set up focus trapping
            const closeButton = modal.querySelector('.close');
            if (closeButton) {
                closeButton.focus();
                trapFocus(modal);
            }
        }

        function closeModal() {
            const modal = document.getElementById('contentModal');
            modal.style.display = 'none';
            modal.setAttribute('aria-hidden', 'true');

            // Return focus to the element that opened the modal
            const activeElement = document.activeElement;
            if (activeElement && activeElement.onclick) {
                activeElement.focus();
            }
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('contentModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }

        // Close modal with Escape key and improve keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });

        // Trap focus within modal when open
        function trapFocus(element) {
            const focusableElements = element.querySelectorAll(
                'a[href], button, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select'
            );
            const firstFocusableElement = focusableElements[0];
            const lastFocusableElement = focusableElements[focusableElements.length - 1];

            element.addEventListener('keydown', function(e) {
                if (e.key === 'Tab') {
                    if (e.shiftKey) {
                        if (document.activeElement === firstFocusableElement) {
                            lastFocusableElement.focus();
                            e.preventDefault();
                        }
                    } else {
                        if (document.activeElement === lastFocusableElement) {
                            firstFocusableElement.focus();
                            e.preventDefault();
                        }
                    }
                }
            });
        }

        // Enhance modal opening to include focus management
        function showModal(type) {
            const modal = document.getElementById('contentModal');
            const content = document.getElementById('modalContent');

            let title = '';
            let body = '';

            // Complete the modal functionality
            switch(type) {
                case 'privacy':
                    title = 'Privacy Policy';
                    body = '<h2>Privacy Policy</h2><p>Coming soon...</p>';
                    break;
                case 'terms':
                    title = 'Terms of Service';
                    body = '<h2>Terms of Service</h2><p>Coming soon...</p>';
                    break;
                default:
                    title = 'Information';
                    body = '<p>Content not available</p>';
            }

            content.innerHTML = '<h2>' + title + '</h2>' + body;
            modal.style.display = 'block';
            modal.setAttribute('aria-hidden', 'false');
        }

        function closeModal() {
            const modal = document.getElementById('contentModal');
            modal.style.display = 'none';
            modal.setAttribute('aria-hidden', 'true');
        }
    </script>
</body>
</html>